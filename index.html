<!DOCTYPE html>
<html lang="en">
<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Love Hurts ‚Äî Saturday 2/13/26</title>
        <style>
            html,body{height:100%;margin:0;background:#111;color:#fff;font-family:Inter,Arial}
            .wrap{display:flex;flex-direction:column;align-items:center;padding:16px}
            canvas{background:linear-gradient(#111, #1a1a1a);box-shadow:0 8px 30px rgba(0,0,0,.7);border-radius:8px}
            .ui{width:800px;display:flex;justify-content:space-between;align-items:center;margin:12px 0}
            .panel{background:#0b0b0b;padding:8px 12px;border-radius:8px;border:2px solid #2b2b2b}
            .overlay{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;background:rgba(0,0,0,.75);z-index:20}
            .cutscene{width:840px;max-width:92%;background:#fff;color:#000;padding:18px;border-radius:12px;box-shadow:0 12px 40px rgba(0,0,0,.6);display:grid;grid-template-columns:160px 1fr;gap:12px}
            .cutscene img{width:150px;height:150px;object-fit:cover;border-radius:8px}
            .cutscene .text{font-size:18px;line-height:1.3}
            .btn{background:#ff2d95;color:#fff;padding:8px 12px;border-radius:8px;border:none;cursor:pointer}
            .brand{font-weight:700;color:#ffdd57}
            .muted{opacity:.8}
            .small{font-size:13px}
            .typewriter{font-family:Georgia,serif;font-size:20px}
        </style>
    </head>
    <body>
        <div class="wrap">
            <h1>Love Hurts ‚Äî Saturday 2/13/26 <span class="small muted">Exit Bar ‚Ä¢ 9PM‚Äì2AM</span></h1>
            <div class="ui">
                <div class="panel">Lives: <span id="lives">3</span></div>
                <div class="panel">Level: <span id="level">1</span></div>
                <div class="panel">Power: <span id="power">Normal</span></div>
                <div class="panel">Score: <span id="score">0</span></div>
            </div>
            <canvas id="game" width="800" height="600"></canvas>
            <div style="width:800px;max-width:92%;display:flex;justify-content:space-between;margin-top:10px">
                <div class="muted small">Controls: Arrow keys / A-D to move, Space to shoot, Click overlays to continue</div>
                <div class="muted small">Made with ‚ù§Ô∏è ‚Äî See you Saturday?</div>
            </div>
        <!doctype html>
        <html>
          <head>
            <meta charset="utf-8" />
            <meta name="viewport" content="width=device-width, initial-scale=1" />
            <title>Love Hurts ‚Äî Saturday 2/13/26</title>
            <style>
              html,body{height:100%;margin:0;background:#111;color:#fff;font-family:Inter,Arial}
              .wrap{display:flex;flex-direction:column;align-items:center;padding:16px}
              canvas{background:linear-gradient(#111, #1a1a1a);box-shadow:0 8px 30px rgba(0,0,0,.7);border-radius:8px}
              .ui{width:800px;display:flex;justify-content:space-between;align-items:center;margin:12px 0}
              .panel{background:#0b0b0b;padding:8px 12px;border-radius:8px;border:2px solid #2b2b2b}
              .overlay{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;background:rgba(0,0,0,.75);z-index:20}
              .cutscene{width:840px;max-width:92%;background:#fff;color:#000;padding:18px;border-radius:12px;box-shadow:0 12px 40px rgba(0,0,0,.6);display:grid;grid-template-columns:160px 1fr;gap:12px}
              .cutscene img{width:150px;height:150px;object-fit:cover;border-radius:8px}
              .cutscene .text{font-size:18px;line-height:1.3}
              .btn{background:#ff2d95;color:#fff;padding:8px 12px;border-radius:8px;border:none;cursor:pointer}
              .brand{font-weight:700;color:#ffdd57}
              .muted{opacity:.8}
              .small{font-size:13px}
              .typewriter{font-family:Georgia,serif;font-size:20px}
            </style>
          </head>
          <body>
            <div class="wrap">
              <h1>Love Hurts ‚Äî Saturday 2/13/26 <span class="small muted">Exit Bar ‚Ä¢ 9PM‚Äì2AM</span></h1>
              <div class="ui">
                <div class="panel">Lives: <span id="lives">3</span></div>
                <div class="panel">Level: <span id="level">1</span></div>
                <div class="panel">Power: <span id="power">Normal</span></div>
                <div class="panel">Score: <span id="score">0</span></div>
              </div>
              <canvas id="game" width="800" height="600"></canvas>
              <div style="width:800px;max-width:92%;display:flex;justify-content:space-between;margin-top:10px">
                <div class="muted small">Controls: Arrow keys / A-D to move, Space to shoot, Click overlays to continue</div>
                <div class="muted small">Made with ‚ù§Ô∏è ‚Äî See you Saturday?</div>
              </div>
            </div>

            <div id="overlay" class="overlay" style="display:none"></div>

            <script>
            // Assets (use supplied imgur links)
            const ASSET_FLYER = 'https://i.imgur.com/pwIpd8E.png';
            const ASSET_AVATAR = 'https://i.imgur.com/y8tV91O.png';

            const canvas = document.getElementById('game');
            const ctx = canvas.getContext('2d');
            const W = canvas.width, H = canvas.height;

            // Game state
            let lives = 3, level = 1, score = 0;
            let powerState = 'Normal';
            document.getElementById('lives').textContent = lives;
            document.getElementById('level').textContent = level;
            document.getElementById('score').textContent = score;
            document.getElementById('power').textContent = powerState;

            // Player
            const player = {x:W/2,y:H-60,w:48,h:48,spd:5,shootCooldown:0};

            // Entities
            let bullets = [];
            let obstacles = [];
            let powerups = [];

            // Visual flags
            let screenShake = 0;

            // Controls
            const keys = {};
            window.addEventListener('keydown', e=>{keys[e.key.toLowerCase()]=true});
            window.addEventListener('keyup', e=>{keys[e.key.toLowerCase()]=false});

            // Utility
            function rand(min,max){return Math.random()*(max-min)+min}
            function hit(a,b){return a.x<a.x+b.w && a.x+a.w>b.x && a.y<a.y+b.h && a.y+a.h>b.y}
            function rectsCollide(a,b){return a.x < b.x + b.w && a.x + a.w > b.x && a.y < b.y + b.h && a.y + a.h > b.y}

            // Spawn obstacles
            function spawnWave(n){
              for(let i=0;i<n;i++){
                const size=32+Math.random()*24;
                obstacles.push({x:rand(20,W-20-size),y:rand(-600,-40),w:size,h:size,spd:1+level*0.4+Math.random()*1.5,angle:Math.random()*Math.PI*2});
              }
            }

            // Spawn powerup
            function spawnPower(){
              const t = Math.random();
              const type = t<0.6? 'rapid':'big';
              powerups.push({x:rand(40,W-40),y:rand(-400,-30),w:28,h:28,spd:1.5,type});
            }

            // Level management
            function startLevel(n){
              level=n;document.getElementById('level').textContent=level;
              bullets=[];obstacles=[];powerups=[];player.x=W/2;player.shootCooldown=0;screenShake=0;
              spawnWave(6 + n*3);
              // spawn a powerup or two
              if(Math.random()<0.8) spawnPower();
              showCutsceneFor(level);
            }

            // Cutscenes data
            const cutscenes = {
              1: {title:'First Sight',text:'You spotting the DJ üéß ‚Äî Me ignoring Friday, looking at Saturday',img:ASSET_AVATAR},
              2: {title:'The Look',text:'DJ notices you ‚Äî They looked at me?! (Surprised)',img:ASSET_AVATAR},
              3: {title:'The Rival',text:"Can't get rejected if I shoot my shot... Evil hearts appear!",img:ASSET_FLYER},
              4: {title:'The Chase',text:'Getting desperate... Saturday 2/13 is my only chance!',img:ASSET_FLYER},
              5: {title:'Saturday Night',text:'YOU WON! See me Saturday 2/13 üòò ‚Äî Exit Bar ‚Ä¢ 9PM‚Äì2AM',img:ASSET_FLYER}
            };

            const overlay = document.getElementById('overlay');

            function showCutsceneFor(n){
              const c = cutscenes[n];
              overlay.innerHTML = '';
              overlay.style.display='flex';
              const box = document.createElement('div');
              box.className='cutscene';
              box.innerHTML = `<img src="${c.img}" alt="panel"><div><div style="font-weight:800;font-size:20px">${c.title}</div><div class="typewriter" style="margin-top:8px">${c.text}</div><div style="margin-top:12px;display:flex;justify-content:space-between;align-items:center"><div class="small muted">Level ${n} / 5</div><button class="btn">Continue</button></div></div>`;
              overlay.appendChild(box);
              box.querySelector('button').addEventListener('click', ()=>{
                overlay.style.display='none';
                if(n===5) showWin();
              });
              overlay.addEventListener('click', e=>{ if(e.target===overlay) overlay.style.display='none' });
            }

            function showWin(){
              overlay.innerHTML='';overlay.style.display='flex';
              const box=document.createElement('div');box.className='cutscene';
              box.innerHTML= `<img src="${ASSET_FLYER}"><div><div style="font-weight:900;font-size:24px">Saturday Night ‚Äî Exit Bar</div><div style="margin-top:10px">You did it ‚Äî DJ impressed! Bring friends. <span class="brand">Saturday 2/13/26 ‚Ä¢ 9PM‚Äì2AM</span></div><div style="margin-top:14px"><button class="btn">Play Again</button></div></div>`;
              overlay.appendChild(box);
              box.querySelector('button').addEventListener('click', ()=>{overlay.style.display='none';lives=3;score=0;document.getElementById('score').textContent=score;document.getElementById('lives').textContent=lives;startLevel(1);});
            }

            // Simple draw helpers
            function drawPlayer(){
              ctx.save();
              ctx.fillStyle='#69f';
              ctx.beginPath();ctx.arc(player.x,player.y,22,0,Math.PI*2);ctx.fill();ctx.fillStyle='#fff';ctx.font='20px serif';ctx.fillText('üòò',player.x-12,player.y+8);
              ctx.restore();
            }

            function drawObstacle(o){
              ctx.save();
              ctx.translate(o.x+o.w/2,o.y+o.h/2);
              ctx.rotate(Math.sin(o.angle + performance.now()/1000)/4);
              ctx.fillStyle='#ff3b6b';
              ctx.beginPath();
              ctx.moveTo(-o.w/2,0);
              ctx.quadraticCurveTo(-o.w/2,-o.h/2,0,-o.h/2);
              ctx.quadraticCurveTo(o.w/2,-o.h/2,o.w/2,0);
              ctx.quadraticCurveTo(o.w/2,o.h/2,0,o.h/2);
              ctx.quadraticCurveTo(-o.w/2,o.h/2,-o.w/2,0);
              ctx.fill();
              ctx.fillStyle='#fff';ctx.font='18px serif';ctx.fillText('üíî',-12,8);
              ctx.restore();
            }

            function drawPower(p){
              ctx.save();ctx.fillStyle = p.type==='rapid'?'#c56cff':'#ffd966';ctx.beginPath();ctx.arc(p.x,p.y,p.w/2,0,Math.PI*2);ctx.fill();ctx.fillStyle='#000';ctx.font='18px serif';ctx.fillText(p.type==='rapid'?'‚ö°':'‚≠ê',p.x-10,p.y+6);ctx.restore();
            }

            // Game loop
            let last = performance.now();
            function loop(t){
              const dt=(t-last)/16;last=t;
              // update
              if(overlay.style.display!=='flex' || overlay.childElementCount===0){
                if(keys['arrowleft']||keys['a']) player.x -= player.spd*dt;
                if(keys['arrowright']||keys['d']) player.x += player.spd*dt;
                if(keys[' ']||keys['space']||keys['k']){
                  if(player.shootCooldown<=0){
                    shoot();
                    player.shootCooldown = powerState==='Rapid' ? 6 : 14;
                  }
                }
                player.shootCooldown = Math.max(0, player.shootCooldown-1);

                // bullets
                bullets.forEach(b=>b.y-=b.spd*dt);
                bullets = bullets.filter(b=>b.y> -20);

                // obstacles
                obstacles.forEach(o=>{ o.y += o.spd*dt; o.angle += 0.02*dt; });
                obstacles = obstacles.filter(o=>o.y < H+100);

                // powerups
                powerups.forEach(p=>p.y += p.spd*dt);
                powerups = powerups.filter(p=>p.y < H+50);

                // collisions bullets vs obstacles
                for(let i=bullets.length-1;i>=0;i--){
                  for(let j=obstacles.length-1;j>=0;j--){
                    if(rectsCollide(bullets[i],obstacles[j])){
                      score += 10 + level*2;document.getElementById('score').textContent = score;
                      obstacles.splice(j,1);
                      bullets.splice(i,1);
                      screenShake = 8;
                      break;
                    }
                  }
                }

                // player vs obstacles
                const playerBox = {x:player.x-22,y:player.y-22,w:44,h:44};
                for(let i=obstacles.length-1;i>=0;i--){
                  const o = obstacles[i];
                  if(rectsCollide(playerBox,o)){
                    obstacles.splice(i,1);
                    lives--;document.getElementById('lives').textContent = lives;
                    screenShake = 12;
                    if(lives<=0){gameOver();return}
                  }
                }

                // player vs powerups
                for(let i=powerups.length-1;i>=0;i--){
                  if(rectsCollide(playerBox,powerups[i])){
                    const p = powerups[i];
                    if(p.type==='rapid'){powerState='Rapid';document.getElementById('power').textContent=powerState; setTimeout(()=>{powerState='Normal';document.getElementById('power').textContent=powerState;},7000)}
                    else {powerState='Big';document.getElementById('power').textContent=powerState; setTimeout(()=>{powerState='Normal';document.getElementById('power').textContent=powerState;},7000)}
                    powerups.splice(i,1);
                  }
                }

                // level clear if few obstacles
                if(obstacles.length===0){
                  if(level<5){ startLevel(level+1);} else { showCutsceneFor(5); }
                }
              }

              // draw
              ctx.clearRect(0,0,W,H);
              ctx.save();
              if(screenShake>0){ ctx.translate(rand(-screenShake,screenShake), rand(-screenShake,screenShake)); screenShake*=0.88; if(screenShake<0.5) screenShake=0; }
              // background grid
              ctx.fillStyle='rgba(255,255,255,0.03)';
              for(let i=0;i<20;i++){ctx.fillRect(i*40,0,1,H)}
              for(let j=0;j<15;j++){ctx.fillRect(0,j*40,W,1)}

              // draw bullets
              ctx.fillStyle='#fff';
              bullets.forEach(b=>{ctx.beginPath();ctx.fillRect(b.x,b.y,b.w,b.h)});

              // draw obstacles
              obstacles.forEach(drawObstacle);

              // draw powerups
              powerups.forEach(drawPower);

              drawPlayer();
              ctx.restore();

              // HUD
              ctx.fillStyle='#fff'; ctx.font='14px monospace'; ctx.fillText('Saturday 2/13/26 ‚Ä¢ Exit Bar ‚Ä¢ 9PM‚Äì2AM',8,H-8);

              requestAnimationFrame(loop);
            }

            function shoot(){
              if(powerState==='Big'){
                bullets.push({x:player.x-6,y:player.y-40,w:12,h:30,spd:12}); bullets.push({x:player.x-26,y:player.y-40,w:12,h:30,spd:10}); bullets.push({x:player.x+14,y:player.y-40,w:12,h:30,spd:10});
              } else {
                bullets.push({x:player.x-4,y:player.y-40,w:8,h:18,spd:12});
              }
            }

            function gameOver(){
              overlay.innerHTML='';overlay.style.display='flex';
              const box=document.createElement('div');box.className='cutscene';
              box.innerHTML=`<img src='${ASSET_AVATAR}'><div><div style='font-weight:900;font-size:22px'>Game Over</div><div style='margin-top:8px'>Hearts got you ‚Äî Try again, charm the DJ! <span class='muted small'>Saturday 2/13/26</span></div><div style='margin-top:12px'><button class='btn'>Play Again</button></div></div>`;
              overlay.appendChild(box);
              box.querySelector('button').addEventListener('click', ()=>{overlay.style.display='none';lives=3;document.getElementById('lives').textContent=lives;startLevel(1);});
            }

            // start
            startLevel(1);
            requestAnimationFrame(loop);

            // spawn extras periodically
            setInterval(()=>{ if(Math.random()<0.7) spawnPower(); if(Math.random()<0.9) obstacles.push({x:rand(20,W-60),y:-40,w:30+Math.random()*36,h:30+Math.random()*36,spd:1+level*0.5,angle:0}); },4000);

            </script>
          </body>
        </html>
        <div id="score">SCORE: 0</div>
